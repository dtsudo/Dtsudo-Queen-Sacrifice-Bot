<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8" />
	<title>Dtsudo Queen Sacrifice Bot</title>

	<script type="module">
		import startDtsudoChessBot from "./ChessBot/dtsudoChessBot.js";
		
		window.addEventListener("DOMContentLoaded", e => {
			let lichessTokenInputElement = document.getElementById("lichessToken");
			let buttonElement = document.getElementById("startBotButton");
		
			buttonElement.addEventListener("click", clickEvent => {
				let lichessToken = lichessTokenInputElement.value;
				if (!lichessToken.startsWith("Bearer"))
					lichessToken = "Bearer " + lichessToken;
				
				lichessTokenInputElement.disabled = true;
				buttonElement.disabled = true;
				
				let webWorkerFileForUciChessEngine = "QueenSacrificeUciChessEngine/queenSacrificeUciChessEngine.js";
				let webWorkerFileType = "module"; // as opposed to "classic"
				
				startDtsudoChessBot(lichessToken, webWorkerFileForUciChessEngine, webWorkerFileType);
			});
		});
		
	</script>
</head>
<body>
	<div>
		<label for="lichessToken">Lichess OAuth token: </label>
		<input type="text" id="lichessToken" style="width:300px">
		<input type="button" id="startBotButton" value="Start bot">
	</div>
</body>
</html>
